<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Satoshi Terminal | $SATS on Base — The Terminal is Open</title>
  <meta name="description" content="$SATS on Base — Interactive terminal for crypto natives. Trade, explore, and deploy your destiny on Base via Ape.Store.">
  <link rel="icon" href="logo.png" />
  <meta name="canonical" href="https://satoshi-terminal.sbs">

  <!-- Open Graph -->
  <meta property="og:title" content="Satoshi Terminal | $SATS on Base">
  <meta property="og:description" content="$SATS on Base — Interactive terminal for crypto natives. The terminal is open.">
  <meta property="og:image" content="logo.png">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://satoshi-terminal.sbs">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="Satoshi Terminal | $SATS on Base">
  <meta name="twitter:description" content="$SATS on Base — Interactive terminal for crypto natives. The terminal is open.">
  <meta name="twitter:image" content="logo.png">

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"Satoshi Terminal",
    "description":"$SATS token on Base",
    "url":"https://satoshi-terminal.sbs",
    "logo":"logo.png",
    "sameAs":[
      "https://x.com/Sats_Terminal",
      "https://t.me/satoshiterminal"
    ]
  }
  </script>

  <style>
    /* Reset & Base */
    *{margin:0;padding:0;box-sizing:border-box}
    :root{
      /* Basechain vibes */
      --bg-primary:#0b0f14;
      --bg-secondary:#0f1320;
      --bg-tertiary:#0c111c;
      --text-primary:#eaf2ff;
      --text-secondary:#bcd0ff;
      --text-muted:#7f91b2;
      --accent:#0052ff;      /* Base blue */
      --accent-dark:#003fcc; /* deeper blue */
      --accent-2:#5aa7ff;    /* light blue */
      --border:#1b2233;
      --shadow:rgba(0,0,0,.55);
      --glass-bg:rgba(12,17,28,.75);
      --glass-border:rgba(255,255,255,.08);
      --terminal-green:#00ffb8;
      --terminal-blue:#7ab8ff;
      --terminal-red:#ff5e7e;
    }
    body{
      font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,sans-serif;
      background:radial-gradient(1200px 600px at 15% -10%, rgba(0,82,255,.10), transparent 60%), radial-gradient(800px 500px at 85% 10%, rgba(90,167,255,.10), transparent 60%), var(--bg-primary);
      color:var(--text-primary);line-height:1.6;overflow-x:hidden
    }
    .container{max-width:1200px;margin:0 auto;padding:0 20px}

    /* Header */
    .header{
      position:fixed;top:0;left:0;right:0;z-index:1000;background:rgba(11,15,20,.92);
      backdrop-filter:blur(10px);border-bottom:1px solid var(--border);transition:all .3s ease
    }
    .header.scrolled{padding:10px 0;background:rgba(11,15,20,.97)}
    .header-content{display:flex;justify-content:space-between;align-items:center;padding:20px 0;transition:padding .3s ease}
    .header.scrolled .header-content{padding:10px 0}
    .logo-container{display:flex;align-items:center;gap:12px}
    .logo{width:40px;height:40px;border-radius:8px;transition:transform .3s ease}
    .logo:hover{transform:scale(1.05)}
    .logo-text{font-size:1.4rem;font-weight:700;color:var(--text-primary)}
    .header-buttons{display:flex;gap:12px;align-items:center}
    .btn{padding:10px 20px;border:none;border-radius:10px;font-size:.9rem;font-weight:700;text-decoration:none;display:inline-flex;align-items:center;gap:6px;cursor:pointer;transition:all .2s ease;user-select:none}
    .btn-secondary{background:linear-gradient(180deg, rgba(20,26,40,.9), rgba(12,17,28,.9));color:var(--text-primary);border:1px solid var(--border)}
    .btn-secondary:hover{background:linear-gradient(180deg, rgba(28,36,56,.95), rgba(16,22,34,.95));border-color:var(--accent);transform:translateY(-1px)}
    .btn-primary{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#0a0a0a}
    .btn-primary:hover{filter:brightness(1.05);transform:translateY(-1px);box-shadow:0 6px 28px rgba(0,82,255,.25), 0 4px 18px rgba(90,167,255,.18)}
    .btn:active{transform:translateY(0)}

    /* Hero */
    .hero{padding:140px 0 80px;text-align:center;background:radial-gradient(ellipse at center, rgba(0,82,255,.12) 0%, transparent 70%)}
    .hero-title{font-size:clamp(2.5rem,8vw,5rem);font-weight:900;margin-bottom:20px;background:linear-gradient(135deg,#fff 0%,var(--accent) 45%,var(--accent-2) 100%);background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent;text-shadow:0 0 40px rgba(90,167,255,.22)}
    .hero-subtitle{font-size:clamp(1.1rem,3vw,1.4rem);color:var(--text-secondary);margin-bottom:40px;max-width:680px;margin-left:auto;margin-right:auto}
    .hero-badges{display:flex;gap:15px;justify-content:center;flex-wrap:wrap;margin-bottom:40px}
    .badge{background:var(--glass-bg);backdrop-filter:blur(10px);border:1px solid var(--glass-border);padding:8px 16px;border-radius:999px;font-size:.85rem;color:var(--text-secondary)}
    .badge .highlight{color:var(--accent);font-weight:800}

    /* Terminal */
    .terminal-section{padding:80px 0;background:var(--bg-secondary)}
    .terminal-container{background:var(--bg-primary);border-radius:14px;border:1px solid var(--border);box-shadow:0 22px 64px var(--shadow);overflow:hidden}
    .terminal-header{background:linear-gradient(180deg,var(--bg-tertiary),#0a0f19);padding:12px 20px;display:flex;align-items:center;gap:8px;border-bottom:1px solid var(--border)}
    .terminal-dot{width:12px;height:12px;border-radius:50%}
    .dot-red{background:var(--terminal-red)} .dot-yellow{background:var(--accent)} .dot-green{background:var(--terminal-green)}
    .terminal-title{margin-left:12px;font-size:.9rem;color:var(--text-secondary)}
    .terminal-body{height:520px;display:flex;flex-direction:column}
    .terminal-output{flex:1;padding:20px;overflow-y:auto;font-family:'Courier New',monospace;font-size:.92rem;line-height:1.45;background:var(--bg-primary)}
    .terminal-message{margin-bottom:16px}
    .terminal-message:last-child{margin-bottom:8px}
    .message-input{color:var(--terminal-green)}
    .message-output{color:var(--text-primary);white-space:pre-wrap;word-wrap:break-word;position:relative}
    .message-output .copy-btn{position:absolute;top:0;right:0;background:var(--bg-tertiary);border:1px solid var(--border);color:var(--text-secondary);padding:4px 8px;font-size:.7rem;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .2s ease}
    .message-output:hover .copy-btn{opacity:1}
    .copy-btn:hover{background:var(--accent);color:#000}
    .terminal-input-container{padding:20px;border-top:1px solid var(--border);background:var(--bg-primary)}
    .terminal-input-line{display:flex;align-items:center;gap:8px;font-family:'Courier New',monospace}
    .terminal-prompt{color:var(--terminal-green);font-weight:bold;user-select:none}
    .terminal-input{flex:1;background:transparent;border:none;outline:none;color:var(--text-primary);font-family:inherit;font-size:.92rem;padding:4px 0}
    .terminal-input::placeholder{color:var(--text-muted);font-style:italic}
    .terminal-cursor{width:8px;height:18px;background:var(--terminal-green);animation:blink 1s infinite}
    @keyframes blink{0%,50%{opacity:1}51%,100%{opacity:0}}
    .terminal-controls{padding:12px 20px;border-top:1px solid var(--border);background:var(--bg-tertiary);display:flex;justify-content:space-between;align-items:center;font-size:.8rem}
    .terminal-hints{color:var(--text-muted)}
    .clear-history{background:none;border:1px solid var(--border);color:var(--text-secondary);padding:4px 12px;border-radius:4px;cursor:pointer;font-size:.8rem;transition:all .2s ease}
    .clear-history:hover{border-color:var(--accent);color:var(--accent)}

    /* Sections */
    .section{padding:80px 0}
    .section:nth-child(even){background:var(--bg-secondary)}
    .section-title{font-size:2.5rem;font-weight:800;text-align:center;margin-bottom:50px;color:var(--text-primary)}
    .feature-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:30px;margin-bottom:40px}
    .feature-card{background:var(--glass-bg);backdrop-filter:blur(10px);border:1px solid var(--glass-border);padding:30px;border-radius:12px;transition:transform .3s ease}
    .feature-card:hover{transform:translateY(-5px);border-color:var(--accent)}
    .feature-card h3{color:var(--accent);margin-bottom:15px;font-size:1.3rem}

    .tokenomics-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:20px}
    .tokenomics-item{background:var(--bg-tertiary);padding:20px;border-radius:8px;text-align:center;border:1px solid var(--border)}
    .tokenomics-item .label{color:var(--text-secondary);font-size:.9rem;margin-bottom:8px}
    .tokenomics-item .value{color:var(--accent);font-size:1.2rem;font-weight:800}

    .roadmap-timeline{display:flex;flex-direction:column;gap:30px;max-width:800px;margin:0 auto}
    .roadmap-item{display:flex;gap:20px;align-items:flex-start}
    .roadmap-number{background:linear-gradient(135deg,var(--accent),var(--accent-2));color:#0b0f14;width:40px;height:40px;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:900;flex-shrink:0}
    .roadmap-content h3{color:var(--accent);margin-bottom:10px}

    .faq-list{max-width:800px;margin:0 auto}
    .faq-item{background:var(--bg-tertiary);border:1px solid var(--border);border-radius:8px;margin-bottom:15px;overflow:hidden}
    .faq-question{background:none;border:none;width:100%;padding:20px;text-align:left;color:var(--text-primary);font-size:1rem;font-weight:700;cursor:pointer;display:flex;justify-content:space-between;align-items:center;transition:color .2s ease}
    .faq-question:hover{color:var(--accent)}
    .faq-answer{padding:0 20px 20px;color:var(--text-secondary);display:none}
    .faq-item.active .faq-answer{display:block}
    .faq-toggle{transition:transform .2s ease}
    .faq-item.active .faq-toggle{transform:rotate(180deg)}

    /* Social Proof */
    .social-proof{background:var(--bg-tertiary);padding:40px 0}
    .proof-badges{display:flex;justify-content:center;gap:30px;flex-wrap:wrap}
    .proof-badge{background:var(--bg-secondary);padding:15px 25px;border-radius:10px;border:1px solid var(--border);text-align:center}
    .proof-badge .number{color:var(--accent);font-size:1.5rem;font-weight:900;display:block}
    .proof-badge .label{color:var(--text-secondary);font-size:.9rem}

    /* Footer */
    .footer{background:var(--bg-primary);padding:40px 0 20px;border-top:1px solid var(--border)}
    .footer-content{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:20px;margin-bottom:20px}
    .footer-links{display:flex;gap:30px;flex-wrap:wrap}
    .footer-links a{color:var(--text-secondary);text-decoration:none;font-size:.9rem;transition:color .2s ease}
    .footer-links a:hover{color:var(--accent)}
    .footer-bottom{text-align:center;padding-top:20px;border-top:1px solid var(--border);color:var(--text-muted);font-size:.8rem}
    .risk-notice{margin-top:10px;font-style:italic}

    /* Mobile */
    @media (max-width:768px){
      .header-buttons{gap:8px}
      .btn{padding:8px 12px;font-size:.8rem}
      .hero{padding:120px 0 60px}
      .hero-badges{flex-direction:column;align-items:center}
      .terminal-body{height:440px}
      .terminal-output{font-size:.85rem}
      .section{padding:60px 0}
      .section-title{font-size:2rem}
      .feature-grid{grid-template-columns:1fr}
      .roadmap-item{flex-direction:column;text-align:center}
      .footer-content{flex-direction:column;text-align:center}
    }
    @media (max-width:480px){
      .container{padding:0 15px}
      .logo-text{display:none}
      .terminal-output{padding:15px}
      .terminal-input-container{padding:15px}
    }
    @media (prefers-reduced-motion:reduce){
      *{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}
      .terminal-cursor{animation:none;opacity:1}
    }
    .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    .btn:focus,.terminal-input:focus,.clear-history:focus,.faq-question:focus{outline:2px solid var(--accent);outline-offset:2px}
  </style>
</head>
<body>
  <!-- Header -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="logo-container">
          <img src="logo.png" alt="Satoshi Terminal" class="logo">
          <div class="logo-text">Satoshi Terminal</div>
        </div>
        <nav class="header-buttons">
          <a href="https://x.com/Sats_Terminal" class="btn btn-secondary" target="_blank" rel="noopener noreferrer">
            <span>Twitter</span>
          </a>
          <a href="https://t.me/satoshiterminal" class="btn btn-secondary" target="_blank" rel="noopener noreferrer">
            <span>Telegram</span>
          </a>
          <a href="https://ape.store/base/CONTRACT_ADDRESS" class="btn btn-primary" id="buyBtn" target="_blank" rel="noopener noreferrer">
            <span>Buy $SATS</span>
          </a>
        </nav>
      </div>
    </div>
  </header>

  <!-- Hero -->
  <section class="hero">
    <div class="container">
      <h1 class="hero-title" id="heroTitle">Satoshi is Online.</h1>
      <p class="hero-subtitle">$SATS on Base via Ape.Store. The terminal is open. Type and deploy your destiny.</p>
      <div class="hero-badges">
        <div class="badge">Chain: <span class="highlight">Base</span></div>
        <div class="badge">Ticker: <span class="highlight">$SATS</span></div>
        <div class="badge">Status: <span class="highlight">Live</span></div>
      </div>
      <button class="btn btn-primary" id="terminalBtn">Open Terminal</button>
    </div>
  </section>

  <!-- Terminal -->
  <section class="terminal-section" id="terminal">
    <div class="container">
      <div class="terminal-container">
        <div class="terminal-header">
          <div class="terminal-dot dot-red"></div>
          <div class="terminal-dot dot-yellow"></div>
          <div class="terminal-dot dot-green"></div>
          <div class="terminal-title">satoshi@base: Terminal v1.1</div>
        </div>
        <div class="terminal-body">
          <div class="terminal-output" id="terminalOutput">
            <div class="terminal-message">
              <div class="message-output">Welcome to Satoshi Terminal v1.1
Connected to Base Network
Type '/help' to see available commands or start typing to explore...

Ready for input.</div>
            </div>
          </div>
          <div class="terminal-input-container">
            <div class="terminal-input-line">
              <span class="terminal-prompt">satoshi@base:$</span>
              <input type="text" class="terminal-input" id="terminalInput" placeholder="Ask anything about $SATS, Base, DeFi, memes, marketing, code..." autocomplete="off" spellcheck="false">
              <div class="terminal-cursor"></div>
            </div>
          </div>
        </div>
        <div class="terminal-controls">
          <div class="terminal-hints">Enter to execute • ↑↓ history • Ctrl+K focus • Esc clear • /help for commands</div>
          <button class="clear-history" id="clearHistory">Clear History</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Why Base -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">Why Base</h2>
      <div class="feature-grid">
        <div class="feature-card"><h3>Low Fees</h3><p>ETH on Base keeps costs down so you can ship, test, and meme fast.</p></div>
        <div class="feature-card"><h3>Fast Finality</h3><p>Low latency for rapid iteration and on-chain experimentation.</p></div>
        <div class="feature-card"><h3>Deep Liquidity</h3><p>Maturing DEX ecosystem on Base with efficient execution.</p></div>
        <div class="feature-card"><h3>Meme Culture</h3><p>Base natives build momentum. $SATS rides that wave.</p></div>
      </div>
    </div>
  </section>

  <!-- Tokenomics -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">Tokenomics</h2>
      <div class="tokenomics-grid">
        <div class="tokenomics-item"><div class="label">Total Supply</div><div class="value" data-field="supply">TBD</div></div>
        <div class="tokenomics-item"><div class="label">Buy/Sell Tax</div><div class="value" data-field="tax">0%</div></div>
        <div class="tokenomics-item"><div class="label">Initial LP</div><div class="value" data-field="lp">TBD</div></div>
        <div class="tokenomics-item"><div class="label">Ownership</div><div class="value" data-field="ownership">Renounced</div></div>
      </div>
    </div>
  </section>

  <!-- Roadmap -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">Roadmap</h2>
      <div class="roadmap-timeline">
        <div class="roadmap-item">
          <div class="roadmap-number">1</div>
          <div class="roadmap-content">
            <h3>Launch Phase</h3>
            <p>Deployment on Base, liquidity, initial community build, and Terminal v1.0 with core functionality.</p>
          </div>
        </div>
        <div class="roadmap-item">
          <div class="roadmap-number">2</div>
          <div class="roadmap-content">
            <h3>Terminal v2.0</h3>
            <p>Live data integrations, portfolio tracking, farming hooks, and UX refinements.</p>
          </div>
        </div>
        <div class="roadmap-item">
          <div class="roadmap-number">3</div>
          <div class="roadmap-content">
            <h3>Hype Detector & Quests</h3>
            <p>Social velocity signals, gamified quests, and community rewards for active participants.</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- FAQ -->
  <section class="section">
    <div class="container">
      <h2 class="section-title">FAQ</h2>
      <div class="faq-list">
        <div class="faq-item">
          <button class="faq-question">What is Satoshi Terminal? <span class="faq-toggle">▼</span></button>
          <div class="faq-answer">Satoshi Terminal is a crypto-native interface on Base, powered by the $SATS token. Terminal-first UX, community, and on-chain tools.</div>
        </div>
        <div class="faq-item">
          <button class="faq-question">How do I buy $SATS? <span class="faq-toggle">▼</span></button>
          <div class="faq-answer">Use Ape.Store on Base. Fund your wallet with ETH on Base for gas, set slippage as needed, and swap once the contract is live.</div>
        </div>
        <div class="faq-item">
          <button class="faq-question">Is the contract safe? <span class="faq-toggle">▼</span></button>
          <div class="faq-answer">Plan is audit, renounced ownership, and liquidity lock. Always verify the official contract address via our Twitter and Telegram.</div>
        </div>
        <div class="faq-item">
          <button class="faq-question">What makes $SATS different? <span class="faq-toggle">▼</span></button>
          <div class="faq-answer">$SATS blends meme culture with practical utility through the terminal platform. Fast shipping, low friction, and clear identity.</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Social Proof -->
  <section class="social-proof">
    <div class="container">
      <div class="proof-badges">
        <div class="proof-badge"><span class="number">24/7</span><span class="label">Terminal Online</span></div>
        <div class="proof-badge"><span class="number">0%</span><span class="label">Transaction Tax</span></div>
        <div class="proof-badge"><span class="number">Base</span><span class="label">Native Chain</span></div>
        <div class="proof-badge"><span class="number">∞</span><span class="label">Possibilities</span></div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-links">
          <a href="#terminal">Terminal</a>
          <a href="https://x.com/Sats_Terminal" target="_blank" rel="noopener noreferrer">Twitter</a>
          <a href="https://t.me/satoshiterminal" target="_blank" rel="noopener noreferrer">Telegram</a>
          <a href="https://ape.store/base/CONTRACT_ADDRESS" id="footerBuy" target="_blank" rel="noopener noreferrer">Buy Now</a>
        </div>
        <div class="footer-links">
          <span id="contractInfo">Contract: TBD</span>
        </div>
      </div>
      <div class="footer-bottom">
        <p>&copy; 2025 Satoshi Terminal. Built for crypto natives.</p>
        <p class="risk-notice">Crypto is high risk. Only invest what you can afford to lose. Not financial advice.</p>
      </div>
    </div>
  </footer>

  <script>
    // ---------------------------
    // Config
    // ---------------------------
    const CONFIG = {
      TYPING_SPEED: 18,
      MIN_DELAY: 120,
      MAX_DELAY: 320,
      MAX_HISTORY: 60,
      STORAGE_KEY: 'satoshi_terminal_history',
      MAX_CONTEXT: 6,
      CONF_THRESHOLD: 0.12,
      TOP_K: 3
    };

    // ---------------------------
    // Utility: tokenizer + cosine
    // ---------------------------
    const Stop = new Set(("a an and are as at be but by for from has have if in into is it its of on or that the to was were will with you your we our us they them this those these i me my what why how when where who which do does did can should could would fee gas eth base sats token chain meme buy sell price contract team roadmap security utility trade").split(/\s+/));

    function tokenize(text){
      return text
        .toLowerCase()
        .replace(/https?:\/\/\S+/g,' ')
        .replace(/[^\p{L}\p{N}\s]/gu,' ')
        .split(/\s+/)
        .filter(t => t && !Stop.has(t));
    }

    function termFreq(tokens){
      const tf = Object.create(null);
      for(const t of tokens) tf[t] = (tf[t]||0)+1;
      const len = tokens.length||1;
      for(const k in tf) tf[k] = tf[k]/len;
      return tf;
    }

    function cosine(a,b){
      let dot=0, na=0, nb=0;
      for(const k in a){ na += a[k]*a[k]; if(b[k]) dot += a[k]*b[k]; }
      for(const k in b){ nb += b[k]*b[k]; }
      if(!na || !nb) return 0;
      return dot / (Math.sqrt(na)*Math.sqrt(nb));
    }

    // ---------------------------
    // Knowledge base (Base + Ape.Store)
    // ---------------------------
    const KB = [
      // Core token / basics
      {q:"what is sats", a:"$SATS is the native token of Satoshi Terminal on Base. It blends meme energy with real utility through a terminal-first UX."},
      {q:"what is satoshi terminal", a:"Satoshi Terminal is a crypto-native interface on Base with a terminal UX. Tools, knowledge, and community with low friction."},
      {q:"tokenomics", a:"Tokenomics: 0% buy and sell tax. Total supply and initial LP TBD at launch. Ownership to be renounced. Verify address only via official channels."},
      {q:"why base", a:"Base offers low fees and fast finality with a strong meme culture. Ideal for rapid iteration and shipping."},
      {q:"how to buy", a:"How to buy $SATS: get ETH on Base for gas, open Ape.Store, set slippage as needed, swap, and add the contract to your wallet once announced."},
      {q:"contract", a:"The contract address will be published on our Twitter and Telegram right after launch. Never trust random DMs or screenshots."},
      {q:"liquidity", a:"Liquidity will be added on launch and managed with transparency. Verify announcements on official channels."},
      {q:"audit", a:"An audit is planned around launch. Regardless, always DYOR and confirm the official address."},
      {q:"renounce", a:"Ownership renounce is planned post-setup. Exact timing will be announced publicly."},
      {q:"roadmap", a:"Roadmap: Phase 1 launch and core terminal. Phase 2 adds live data, portfolio and farming. Phase 3 ships Hype Detector and quests."},
      {q:"utility", a:"Utility: terminal UX, trading helpers, knowledge commands, later PnL tools, sentiment signals and quests."},

      // Trading & fees
      {q:"gas fee", a:"ETH on Base is typically very cheap. Keep a small buffer for gas."},
      {q:"slippage", a:"Start with modest slippage on Ape.Store. If it fails, adjust based on volatility and liquidity."},
      {q:"price chart", a:"Use Ape.Store or your preferred DEX/aggregator to track the chart. Terminal v2.0 will integrate live feeds."},

      // Security / safety
      {q:"is this a rug", a:"We plan to renounce and lock LP. Still, only invest what you can afford to lose, and verify the contract via official links."},
      {q:"scam", a:"Beware of impersonators and fake contracts. Cross-check on x.com/Sats_Terminal and t.me/satoshiterminal."},

      // Community / socials
      {q:"twitter", a:"Twitter: https://x.com/Sats_Terminal"},
      {q:"telegram", a:"Telegram: https://t.me/satoshiterminal"},
      {q:"community", a:"Join Telegram and Twitter to get verified links, contests, quests, and code drops."},

      // Terminal help
      {q:"help", a:"Commands: /help, /about, /token, /howtobuy, /roadmap, /faq, /base, /hype, /meme, /tweet, /explain, /clean. Ask free-form too."},
      {q:"about", a:"$SATS is for builders and degens who think in terminals. We ship fast and avoid fluff."},

      // Marketing / memes / tweets
      {q:"give meme ideas", a:"Meme ideas: terminal vs GUI, 'satoshi@base:$ ./moon.sh', gas savings scoreboard."},
      {q:"viral tweet", a:"Draft: $SATS on Base hits different. Low fees, terminal-first, fast shipping. If you still overpay gas, skill issue. Terminal is open."},

      // Tutorials / dev flavored
      {q:"create wallet", a:"Install MetaMask or Coinbase Wallet, add Base, fund with ETH on Base, keep a buffer for gas."},
      {q:"set network metamask", a:"Base mainnet — Chain ID 8453, currency symbol ETH, explorer basescan.org."},
      {q:"what is slippage tolerance", a:"Slippage is tolerated price movement during swaps. Too low may revert, too high worsens fills."},
      {q:"what is liquidity pool", a:"AMM pools enable swaps via reserves. Larger pools reduce price impact."},

      // Hype detector concept
      {q:"what is hype detector", a:"Aggregates social velocity, mentions, engagement deltas and wallet clustering to flag tokens gaining traction."},

      // DeFi basic concepts
      {q:"what is amm", a:"Automated Market Maker using formulas like x*y=k for pricing."},
      {q:"impermanent loss", a:"Occurs when providing LP to volatile pairs and prices diverge. Fees and incentives can offset it."},

      // Generic Q&A coverage
      {q:"who is satoshi", a:"Pseudonymous creator of Bitcoin. Here, Satoshi is your terminal persona, bullish on $SATS on Base."},
      {q:"compare eth vs base", a:"ETH L1 has massive security and infra. Base brings low fees and speed while inheriting Ethereum security. $SATS chooses Base for throughput and culture."},
      {q:"how do i avoid rugs", a:"Verify devs, read the contract, check LP locks and ownership, avoid FOMO."},
      {q:"when listing", a:"DEX trading goes live first. Centralized listings depend on demand and due diligence."},
      {q:"airdrop", a:"No airdrop promised. If anything changes, it will be announced on official channels."},
      {q:"staking", a:"Staking and farming hooks planned for v2.0."},
      {q:"partnerships", a:"Quality over quantity. If it helps users, it ships."},
      {q:"pn l", a:"Planned PnL summaries per wallet and token in v2.0."},
      {q:"support", a:"Telegram for quick help. Never share seed phrases."}
    ];

    // Aliases for better recall
    const ALIASES = [
      ["how buy sats","buy sats","purchase sats","get sats","where buy sats"],
      ["token address","contract address","address","ca"],
      ["fees","gas","gas fees","fee"],
      ["scam check","rug check","honeypot","safe"],
      ["marketing ideas","growth ideas","viral ideas","go to market"],
      ["tweet ideas","tweets","post ideas"],
      ["memes","meme","meme ideas","make meme"],
      ["dex","swap","trade","trading"],
      ["tokenomics details","supply","tax","lp","ownership"],
      ["security","audit","renounce","lock liquidity"],
      ["road map","milestones","phases"]
    ];

    for(const aliasGroup of ALIASES){
      for(const alias of aliasGroup){
        KB.push({ q: alias, a: KB.find(x=>aliasGroup[0].includes("how buy") ? x.q==="how to buy" : false)?.a || KB[0].a });
      }
    }

    const KB_INDEX = KB.map(item=>{
      const t = tokenize(item.q + " " + item.a);
      return { tf: termFreq(t), raw:item };
    });

    // ---------------------------
    // Generative fallback
    // ---------------------------
    function genIntroPhrases(){
      return [
        "Processing in the terminal...",
        "Compiling a response from the vault...",
        "Scanning Base playbooks...",
        "Pulling guidance from Satoshi's notes..."
      ];
    }

    function genAnswer(query, context){
      const q = query.toLowerCase();
      const bullets = [];
      if(q.includes("buy")||q.includes("purchase")||q.includes("get")){
        bullets.push("Get ETH on Base, open Ape.Store, set slippage, and swap.");
        bullets.push("Keep a small ETH buffer for gas.");
        bullets.push("Verify the contract only from official links.");
      }
      if(q.includes("marketing")||q.includes("tweet")||q.includes("grow")||q.includes("viral")){
        bullets.push("Lean into terminal-first identity and Base fee savings.");
        bullets.push("Contrast L1 gas vs Base speed with quick clips.");
        bullets.push("Show keyboard-first UX moments of the terminal.");
      }
      if(q.includes("security")||q.includes("rug")||q.includes("safe")||q.includes("audit")){
        bullets.push("Confirm renounce and LP lock via on-chain events.");
        bullets.push("Read the contract and check honeypot patterns.");
        bullets.push("Never trust DMs. Cross-check on official socials.");
      }
      if(q.includes("meme")){
        bullets.push("Terminal vs GUI split panel gag.");
        bullets.push("satoshi@base:$ ./moon.sh with animated text.");
        bullets.push("Gas savings scoreboard on Base.");
      }
      if(q.includes("roadmap")||q.includes("plan")||q.includes("phase")){
        bullets.push("Phase 1: launch and core terminal.");
        bullets.push("Phase 2: live data, PnL, farming.");
        bullets.push("Phase 3: Hype Detector and quests.");
      }
      const intro = genIntroPhrases()[Math.floor(Math.random()*genIntroPhrases().length)];
      const ctxLine = context && context.length ? "\nContext loaded from previous turns." : "";
      const out = [
        `${intro}${ctxLine}`,
        "",
        bullets.length
          ? bullets.map(b=>`• ${b}`).join("\n")
          : "Ask me anything about $SATS, Base, DeFi, memes, or growth. I can draft tweets, memes, explain concepts, or outline steps."
      ].join("\n");
      return out;
    }

    // Draft helpers
    function makeTweet(topic="SATS on Base"){
      return [
        `Found ${topic} and it just feels right on Base.`,
        `Low fees. Fast blocks. Terminal-first UX.`,
        `Ship faster. Pay less. Think in code.`,
        `The terminal is open. $SATS`
      ].join("\n");
    }

    function makeMemeIdeas(topic="SATS"){
      return [
        `1) Terminal vs GUI: "I press keys, you press fees."`,
        `2) Gas Savings Scoreboard: Base chill vs overheated L1s.`,
        `3) satoshi@base:$ ./moon.sh --execute`,
        `4) Brain expansion: trader -> terminal -> becoming ${topic}.`,
        `5) "Skill issue" if you're still overpaying gas.`
      ].join("\n");
    }

    function explain(term){
      return `Quick explain — ${term}:\n• Definition: concise, practical view of "${term}".\n• Why it matters: helps you execute better on-chain.\n• Action: verify, test small, iterate fast.`;
    }

    // ---------------------------
    // Command router
    // ---------------------------
    const Commands = {
      "/help": `Available Commands
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
/help       Show this help
/about      About $SATS and the terminal
/token      Token details and contract notes
/howtobuy   Steps to buy $SATS
/roadmap    Project phases
/faq        Common questions
/base       Why Base
/hype       Tweet drafts bundle
/meme [t]   Meme ideas for topic t
/tweet [t]  Tweet draft for topic t
/explain t  Short explanation for term t
/clean      Clear the screen
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━`,
      "/about": `$SATS — terminal-first token on Base for people who think in code. We ship fast and keep it practical.`,
      "/token": `Token
━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━
Name: Satoshi Terminal
Ticker: $SATS
Chain: Base
Contract: TBD (posted on official socials)
Tax: 0% / 0%
Ownership: Will be renounced
DEX: Ape.Store`,
      "/howtobuy": `How to Buy
1) Get ETH on Base for gas
2) Open Ape.Store on Base
3) Set reasonable slippage
4) Swap and add the contract`,
      "/roadmap": `Roadmap
Phase 1: Launch, core terminal
Phase 2: Live data, PnL, farming hooks
Phase 3: Hype Detector, quests`,
      "/faq": `FAQ
Q: Safe?
A: Verify contract, look for renounce and LP lock
Q: Price feed?
A: v2.0 will integrate live data
Q: Support?
A: Telegram: t.me/satoshiterminal`,
      "/base": `Why Base: low fees, fast blocks, strong meme culture.`,
      "/hype": `Hype Drafts
1) "$SATS on Base hits different. Low fees. Terminal-first. The future shipped."
2) "If you still overpay gas, that’s a skill issue. Terminal is open on Base. $SATS"`,
      "/clean": "CLEAR_SCREEN"
    };

    // ---------------------------
    // Terminal class
    // ---------------------------
    class Terminal {
      constructor(){
        this.output = document.getElementById('terminalOutput');
        this.input = document.getElementById('terminalInput');
        this.history = this.loadHistory();
        this.historyIndex = this.history.length;
        this.isProcessing = false;
        this.ctx = [];
        this.initEvents();
        this.focus();
      }
      initEvents(){
        this.input.addEventListener('keydown', e=>{
          if(e.key==="Enter" && !this.isProcessing){ e.preventDefault(); this.process(); }
          else if(e.key==="ArrowUp"){ e.preventDefault(); this.moveHistory(-1); }
          else if(e.key==="ArrowDown"){ e.preventDefault(); this.moveHistory(1); }
          else if(e.key==="Escape"){ this.input.value=""; }
        });
        document.addEventListener('keydown', e=>{
          if(e.ctrlKey && e.key==="k"){ e.preventDefault(); this.focus(); }
        });
        document.getElementById('clearHistory').addEventListener('click', ()=>this.clearHistory());
        this.output.addEventListener('click', ()=>this.focus());
      }
      focus(){ this.input.focus(); }
      async process(){
        const query = this.input.value.trim();
        if(!query || this.isProcessing) return;
        this.isProcessing = true;
        this.addToHistory(query);
        this.addMsg(query,'input');
        this.input.value = '';

        const delay = Math.random()*(CONFIG.MAX_DELAY - CONFIG.MIN_DELAY)+CONFIG.MIN_DELAY;
        await this.sleep(delay);

        const response = await this.route(query);
        if(response === 'CLEAR_SCREEN') this.clearScreen();
        else await this.typeMsg(response,'output');

        this.isProcessing = false;
        this.focus();
        this.scrollBottom();
        window.logEvent('terminal_command',{command:query});
      }

      async route(query){
        const lower = query.toLowerCase();

        // explicit commands
        if(lower.startsWith('/')){
          const [cmd, ...rest] = lower.split(/\s+/);
          const arg = rest.join(' ').trim();
          if(cmd === '/tweet'){
            const t = arg || 'SATS on Base';
            return makeTweet(t);
          }
          if(cmd === '/meme'){
            const t = arg || 'SATS';
            return makeMemeIdeas(t);
          }
          if(cmd === '/explain'){
            const t = arg || 'the topic';
            return explain(t);
          }
          if(Commands[cmd]) return Commands[cmd];
          return "Unknown command. Type /help.";
        }

        // semantic KB search
        const qtf = termFreq(tokenize(lower));
        let scored = KB_INDEX.map(doc=>({score:cosine(qtf, doc.tf), a:doc.raw.a}));
        scored.sort((a,b)=>b.score - a.score);

        const top = scored.slice(0, CONFIG.TOP_K).filter(x=>x.score > CONFIG.CONF_THRESHOLD);
        if(top.length){
          const merged = top.map(x=>x.a).join("\n");
          this.pushContext(query);
          return merged;
        }

        if(/\btweet\b/.test(lower)) return makeTweet('SATS');
        if(/\bmeme\b/.test(lower)) return makeMemeIdeas('SATS');

        const gen = genAnswer(query, this.ctx);
        this.pushContext(query);
        return gen;
      }

      pushContext(q){
        this.ctx.push(q);
        if(this.ctx.length > CONFIG.MAX_CONTEXT) this.ctx.shift();
      }

      addMsg(content,type){
        const wrap = document.createElement('div');
        wrap.className = 'terminal-message';
        const inner = document.createElement('div');
        inner.className = `message-${type}`;
        if(type==='input'){
          inner.innerHTML = `<span class="terminal-prompt">satoshi@base:$</span> ${content}`;
        } else {
          inner.textContent = content;
          const copyBtn = document.createElement('button');
          copyBtn.className = 'copy-btn';
          copyBtn.textContent = 'Copy';
          copyBtn.onclick = ()=>this.copy(content);
          inner.appendChild(copyBtn);
        }
        wrap.appendChild(inner);
        this.output.appendChild(wrap);
      }

      async typeMsg(content,type){
        const wrap = document.createElement('div');
        wrap.className = 'terminal-message';
        const inner = document.createElement('div');
        inner.className = `message-${type}`;
        inner.style.position = 'relative';

        const copyBtn = document.createElement('button');
        copyBtn.className = 'copy-btn';
        copyBtn.textContent = 'Copy';
        copyBtn.onclick = ()=>this.copy(content);
        inner.appendChild(copyBtn);

        wrap.appendChild(inner);
        this.output.appendChild(wrap);

        for(let i=0;i<content.length;i++){
          inner.insertBefore(document.createTextNode(content[i]), copyBtn);
          await this.sleep(CONFIG.TYPING_SPEED);
          this.scrollBottom();
        }
      }

      copy(text){
        navigator.clipboard.writeText(text).then(()=>window.logEvent('text_copied',{length:text.length})).catch(()=>{
          const ta = document.createElement('textarea');
          ta.value = text; document.body.appendChild(ta); ta.select(); document.execCommand('copy'); document.body.removeChild(ta);
        });
      }

      clearScreen(){
        this.output.innerHTML = '<div class="terminal-message"><div class="message-output">Terminal cleared. Type /help to see commands.</div></div>';
      }

      addToHistory(cmd){
        this.history.push(cmd);
        if(this.history.length > CONFIG.MAX_HISTORY) this.history.shift();
        this.historyIndex = this.history.length;
        this.saveHistory();
      }

      moveHistory(dir){
        if(dir===-1 && this.historyIndex>0){ this.historyIndex--; this.input.value = this.history[this.historyIndex]; }
        else if(dir===1 && this.historyIndex < this.history.length-1){ this.historyIndex++; this.input.value = this.history[this.historyIndex]; }
        else if(dir===1 && this.historyIndex === this.history.length-1){ this.historyIndex = this.history.length; this.input.value=''; }
      }

      clearHistory(){ this.history = []; this.historyIndex = 0; this.saveHistory(); window.logEvent('history_cleared'); }
      loadHistory(){ try{ const s = localStorage.getItem(CONFIG.STORAGE_KEY); return s? JSON.parse(s):[]; } catch{ return []; } }
      saveHistory(){ try{ localStorage.setItem(CONFIG.STORAGE_KEY, JSON.stringify(this.history)); } catch{} }

      scrollBottom(){ this.output.scrollTop = this.output.scrollHeight; }
      sleep(ms){ return new Promise(r=>setTimeout(r,ms)); }
    }

    // ---------------------------
    // App glue
    // ---------------------------
    const Utils = {
      scrollTo(id){ const el=document.getElementById(id); if(el) el.scrollIntoView({behavior:'smooth'}); },
      typeText(el, txt, speed=120){ return new Promise(res=>{ let i=0; const it=setInterval(()=>{ el.textContent += txt[i]; i++; if(i>=txt.length){ clearInterval(it); res(); } }, speed); }); }
    };

    function setContractInfo(address){
      const el = document.getElementById('contractInfo');
      if(el){
        el.innerHTML = `Contract: <a href="https://basescan.org/token/${address}" target="_blank" rel="noopener noreferrer" style="color:var(--accent)">${address.substring(0,8)}...${address.substring(address.length-6)}</a>`;
      }
      const buyBtn = document.getElementById('buyBtn');
      const footerBuy = document.getElementById('footerBuy');
      const buyUrl = `https://ape.store/base/${address}`;
      if(buyBtn) buyBtn.href = buyUrl;
      if(footerBuy) footerBuy.href = buyUrl;

      const tokenEls = document.querySelectorAll('[data-field]');
      tokenEls.forEach(elm=>{ if(elm.dataset.field==='contract') elm.textContent = `${address.substring(0,8)}...${address.substring(address.length-6)}`; });
      window.logEvent('contract_updated',{address});
    }

    window.logEvent = function(name,data={}){ try{ console.log('Analytics Event:',name,data); }catch{} };

    document.addEventListener('DOMContentLoaded', ()=>{
      window.terminal = new Terminal();

      const header = document.querySelector('.header');
      window.addEventListener('scroll', ()=>{ if(window.scrollY>50) header.classList.add('scrolled'); else header.classList.remove('scrolled'); });

      const heroTitle = document.getElementById('heroTitle');
      const original = heroTitle.textContent; heroTitle.textContent='';
      setTimeout(()=>{ Utils.typeText(heroTitle, original, 140); }, 400);

      document.getElementById('terminalBtn').addEventListener('click', ()=>{
        Utils.scrollTo('terminal');
        setTimeout(()=>window.terminal.focus(), 700);
      });

      document.querySelectorAll('.faq-question').forEach(btn=>{
        btn.addEventListener('click', ()=>{
          const item = btn.parentElement;
          const open = item.classList.contains('active');
          document.querySelectorAll('.faq-item').forEach(i=>i.classList.remove('active'));
          if(!open) item.classList.add('active');
        });
      });

      document.querySelectorAll('a[href^="https://x.com"], a[href^="https://t.me"], a[href*="ape.store"]').forEach(link=>{
        link.addEventListener('click', ()=>{
          const url = link.href;
          let platform = 'unknown';
          if(url.includes('x.com')) platform='twitter';
          else if(url.includes('t.me')) platform='telegram';
          else if(url.includes('ape.store')) platform='dex';
          window.logEvent('social_click',{platform,url});
        });
      });

      window.SatoshiTerminal = { setContractInfo, logEvent:window.logEvent, version:'1.1.0-base' };

      console.log('🚀 Satoshi Terminal v1.1 on Base ready');
      console.log('Try: /help, /tweet hype, /meme sats, explain slippage, how to buy, gas fees, security, tokenomics, roadmap, partnerships');
    });
  </script>
</body>
</html>

