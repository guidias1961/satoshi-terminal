<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Satoshi Terminal — $SATS on BSC</title>
  <meta name="description" content="$SATS — Satoshi Terminal on BSC via four.meme. Interactive terminal with a bold bullish persona and AI brain." />
  <meta name="theme-color" content="#f0b90b" />
  <style>
    :root{
      --bg:#0a0b0e; --panel:#0f1117; --panel-2:#0b0d12;
      --text:#e9eef7; --muted:#a8b3c7; --accent:#f0b90b;
      --success:#37d399; --danger:#ff6b6b; --link:#8ab4ff;
      --shadow:0 0 0 1px rgba(240,185,11,.12),0 10px 40px rgba(240,185,11,.08);
      --radius:14px;
    }
    *{box-sizing:border-box} html,body{height:100%}
    body{margin:0;background:radial-gradient(1200px 600px at 70% -10%,rgba(240,185,11,.08),transparent 60%),
          radial-gradient(900px 700px at 20% 120%,rgba(240,185,11,.06),transparent 55%),var(--bg);
         color:var(--text);font:15px/1.6 ui-sans-serif,system-ui,Segoe UI,Roboto,Arial}
    a{color:var(--link);text-decoration:none}
    header{position:sticky;top:0;z-index:20;backdrop-filter:saturate(1.2) blur(10px);
      background:linear-gradient(180deg,rgba(10,11,14,.9),rgba(10,11,14,.6));
      border-bottom:1px solid rgba(255,255,255,.06)}
    .wrap{max-width:1100px;margin:0 auto;padding:14px 18px;display:flex;align-items:center;gap:14px}
    .brand{display:flex;align-items:center;gap:12px;min-width:0}
    .brand img{width:38px;height:38px;border-radius:10px;box-shadow:var(--shadow);background:#000;object-fit:cover}
    .title{display:flex;flex-direction:column;gap:2px}
    .title h1{font-size:16px;margin:0;font-weight:800;letter-spacing:.6px}
    .title small{color:var(--muted);font-size:12px}
    .spacer{flex:1}
    .btns{display:flex;gap:10px;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:8px;padding:10px 14px;border-radius:12px;
      border:1px solid rgba(255,255,255,.08);background:linear-gradient(180deg,rgba(255,255,255,.03),rgba(255,255,255,.01));
      color:var(--text);font-weight:700;letter-spacing:.3px;box-shadow:var(--shadow);cursor:pointer}
    .btn.buy{background:linear-gradient(180deg,rgba(240,185,11,.22),rgba(240,185,11,.1));border-color:rgba(240,185,11,.4)}
    main{max-width:1100px;margin:22px auto;padding:0 18px 80px}
    .grid{display:grid;grid-template-columns:1.2fr .8fr;gap:18px}
    @media (max-width:980px){.grid{grid-template-columns:1fr}}
    .terminal{background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .term-top{display:flex;align-items:center;gap:10px;padding:12px 14px;border-bottom:1px solid rgba(255,255,255,.06);
      background:linear-gradient(180deg,rgba(255,255,255,.03),transparent)}
    .lights{display:flex;gap:8px;margin-right:6px}
    .dot{width:10px;height:10px;border-radius:50%}.red{background:#ff5f56}.yellow{background:#ffbd2e}.green{background:#27c93f}
    .tab{padding:8px 10px;border-radius:8px;background:rgba(255,255,255,.04);font-weight:700}
    .screen{height:520px;padding:14px;overflow:auto;font-family:ui-monospace, SFMono-Regular, Menlo, Consolas, "Liberation Mono", monospace}
    @media (max-width:520px){.screen{height:64vh}}
    .line{display:flex;gap:8px;white-space:pre-wrap;word-break:break-word}
    .prefix{color:var(--accent)}
    .muted{color:var(--muted)} .success{color:var(--success)} .danger{color:var(--danger)}
    .cmd{display:flex;gap:10px;padding:10px;border-top:1px solid rgba(255,255,255,.06)}
    .cmd input{flex:1;background:#07090d;color:var(--text);border:1px solid rgba(255,255,255,.08);border-radius:10px;padding:12px 14px;font-size:15px;outline:none}
    .kbd{font-family:ui-monospace,monospace;background:rgba(255,255,255,.06);padding:6px 8px;border-radius:6px;color:var(--muted);font-size:12px}
    .card{background:linear-gradient(180deg,var(--panel),var(--panel-2));border:1px solid rgba(255,255,255,.08);
      border-radius:var(--radius);box-shadow:var(--shadow);overflow:hidden}
    .card h3{margin:0;padding:14px;border-bottom:1px solid rgba(255,255,255,.06);font-size:15px;letter-spacing:.4px}
    .card .body{padding:14px;display:grid;gap:10px}
    .kv{display:grid;grid-template-columns:auto 1fr;gap:4px 10px;align-items:center}
    .kv .k{color:var(--muted)}
    footer{max-width:1100px;margin:24px auto 60px;padding:0 18px;color:var(--muted);font-size:13px}
    .blink{animation:blink 1s step-end infinite} @keyframes blink{50%{opacity:.2}}
  </style>
</head>
<body>
  <header>
    <div class="wrap">
      <div class="brand">
        <img src="logo.png" alt="Satoshi Terminal logo" />
        <div class="title">
          <h1>Satoshi Terminal</h1>
          <small>$SATS on BSC via four.meme</small>
        </div>
      </div>
      <div class="spacer"></div>
      <nav class="btns">
        <a class="btn" id="btnTwitter" target="_blank" rel="noopener">Twitter</a>
        <a class="btn" id="btnTelegram" target="_blank" rel="noopener">Telegram</a>
        <a class="btn buy" id="btnBuy" target="_blank" rel="noopener">Buy</a>
      </nav>
    </div>
  </header>

  <main class="grid">
    <section class="terminal">
      <div class="term-top">
        <div class="lights"><span class="dot red"></span><span class="dot yellow"></span><span class="dot green"></span></div>
        <div class="tab">SATS@BSC:/satoshi-terminal</div>
        <div class="spacer"></div>
        <div class="kbd">Press ? for tips</div>
      </div>
      <div id="screen" class="screen" aria-live="polite"></div>
      <div class="cmd">
        <input id="input" autocomplete="off" spellcheck="false" placeholder="Try: help, about, buy, token, chart, socials, lore, roadmap, predict, ai: <question>" />
        <div class="kbd">Tab completes</div>
      </div>
    </section>

    <aside class="card">
      <h3>$SATS quick facts</h3>
      <div class="body">
        <div class="kv">
          <div class="k">Chain</div><div>BSC</div>
          <div class="k">Launchpad</div><div>four.meme</div>
          <div class="k">Address</div><div id="tokenAddr"></div>
          <div class="k">Ticker</div><div>$SATS</div>
        </div>
        <div class="kv">
          <div class="k">Theme</div>
          <div><label><input type="checkbox" id="themeToggle"> Neon mode</label></div>
        </div>
      </div>
    </aside>
  </main>

  <footer>
    Type <span class="kbd">help</span> to list commands. Up/Down for history. Session persists locally.
  </footer>

<script>
  // ---------------- CONFIG ----------------
  const CONFIG = {
    TOKEN_ADDRESS: "0xYourTokenAddressHere",
    FOUR_MEME_BUY:  "https://four.meme/token/your-sats-id",
    TWITTER_URL:    "https://twitter.com/YourSATSHandle",
    TELEGRAM_URL:   "https://t.me/YourSATSGroup",
    CHART_IFRAME:   "https://dexscreener.com/bsc/yourpair?embed=1&theme=dark",
    AI_ENDPOINT:    "/api/ai"
  };

  // header links
  btnTwitter.href = CONFIG.TWITTER_URL;
  btnTelegram.href = CONFIG.TELEGRAM_URL;
  btnBuy.href     = CONFIG.FOUR_MEME_BUY;
  tokenAddr.textContent = CONFIG.TOKEN_ADDRESS;

  // theme
  themeToggle.checked = localStorage.getItem("sats_neon")==="1";
  const setNeon = on => {
    document.documentElement.style.setProperty("--bg", on ? "#04060a" : "#0a0b0e");
    document.documentElement.style.setProperty("--panel", on ? "#05070d" : "#0f1117");
    document.documentElement.style.setProperty("--panel-2", on ? "#04060b" : "#0b0d12");
    localStorage.setItem("sats_neon", on ? "1" : "0");
    toast(on ? "Neon on" : "Neon off");
  };
  setNeon(themeToggle.checked);
  themeToggle.addEventListener("change", e => setNeon(e.target.checked));

  // terminal
  const screen = document.getElementById("screen");
  const input  = document.getElementById("input");
  const HISTORY_KEY="sats_history_v3";
  let history = JSON.parse(localStorage.getItem(HISTORY_KEY) || "[]");
  let hIndex = history.length;

  const COMMANDS = {};
  const alias = (k,fn)=>COMMANDS[k]=fn;
  const print = (html, cls="") => {
    const el = document.createElement("div");
    el.className = "line "+cls;
    el.innerHTML = `<span class="prefix">SATS@BSC:</span> <div>${html}</div>`;
    screen.appendChild(el);
    screen.scrollTop = screen.scrollHeight;
  };

  const help = {
    about:"Project summary",
    token:"Address and ticker",
    buy:"Open four.meme",
    chart:"Embed live chart",
    socials:"Links",
    lore:"Mythos",
    roadmap:"Milestones",
    predict:"Future hype detector (preview)",
    ai:"Chat with the bullish brain: ai: your question",
    export:"Download transcript",
    clear:"Clear terminal",
    help:"List commands"
  };

  alias("help", ()=> print(Object.entries(help).map(([k,v])=>`<b>${k}</b> — ${v}`).join("<br>")));
  alias("about", ()=> print(`<b>Satoshi Terminal</b> — an interactive command line for BSC. DNA: speed, culture, automation.`));
  alias("token", ()=> print(`<b>Ticker</b> $SATS<br><b>Address</b> <code>${CONFIG.TOKEN_ADDRESS}</code>`));
  alias("buy",   ()=> { print(`Opening four.meme… <a href="${CONFIG.FOUR_MEME_BUY}" target="_blank">link</a>`); window.open(CONFIG.FOUR_MEME_BUY,"_blank"); });
  alias("chart", ()=> print(`<iframe title="chart" src="${CONFIG.CHART_IFRAME}" style="width:100%;height:420px;border:0;border-radius:10px"></iframe>`));
  alias("socials",()=> print(`Twitter <a href="${CONFIG.TWITTER_URL}" target="_blank">${CONFIG.TWITTER_URL}</a><br>Telegram <a href="${CONFIG.TELEGRAM_URL}" target="_blank">${CONFIG.TELEGRAM_URL}</a>`));
  alias("lore",  ()=> print(`The mask stayed. The keys moved. Satoshi now speaks BSC — and $SATS never doubts itself.`));
  alias("roadmap",()=> print(`<b>Phase 1</b> launch + terminal v1<br><b>Phase 2</b> hype detector + plugins<br><b>Phase 3</b> revenue share + SDK`));

  // Preview for the future Twitter hype detector
  alias("predict", ()=> {
    print(`<b>Hype Detector (preview)</b><br>
    Planned engine: stream Twitter metrics (mentions, velocity, sentiment, influencer-weighted score), normalize per minute, output <i>HypeScore™</i> 0–100 with triggers for raid/buy-bot hooks.<br>
    Today: placeholder. Tomorrow: real-time edge.`);
  });

  alias("export",()=> { const blob=new Blob([screen.innerText],{type:"text/plain"}); const url=URL.createObjectURL(blob); const a=document.createElement("a"); a.href=url;a.download="sats_terminal.txt";a.click();URL.revokeObjectURL(url); print("Transcript downloaded");});
  alias("clear", ()=> { screen.innerHTML=""; });

  // AI persona — always bullish about $SATS
  async function askAI(prompt, historyMsgs){
    try{
      const res = await fetch("/api/ai", {
        method:"POST",
        headers:{ "Content-Type":"application/json" },
        body: JSON.stringify({ prompt, history: historyMsgs })
      });
      if(!res.ok) throw new Error("AI error");
      const data = await res.json();
      return data.reply || "No reply";
    }catch(e){
      return "AI is offline. Check the backend.";
    }
  }

  function escapeHtml(s){return s.replace(/[&<>'"]/g, c=>({ "&":"&amp;","<":"&lt;",">":"&gt;","'":"&#39;",'"':"&quot;" }[c]));}
  function toast(msg){
    const t=document.createElement("div");
    t.textContent=msg;
    Object.assign(t.style,{position:"fixed",right:"14px",bottom:"14px",background:"rgba(0,0,0,.85)",color:"#fff",padding:"10px 12px",borderRadius:"10px",border:"1px solid rgba(255,255,255,.12)",zIndex:9999});
    document.body.appendChild(t); setTimeout(()=>t.remove(),1400);
  }

  input.addEventListener("keydown", async e=>{
    if(e.key==="Enter"){
      const raw = input.value.trim(); if(!raw) return;
      print(`<span class="muted">${escapeHtml(raw)}</span>`);
      history.push(raw); localStorage.setItem(HISTORY_KEY, JSON.stringify(history)); hIndex = history.length;

      if(raw.toLowerCase().startsWith("ai:")){
        const q = raw.slice(3).trim();
        const reply = await askAI(q, history.slice(-10));
        print(reply);
      } else {
        const [cmd] = raw.split(/\s+/); const fn = COMMANDS[cmd.toLowerCase()];
        if(fn) fn(); else {
          const sug = Object.keys(COMMANDS).filter(c=>c.startsWith(cmd.toLowerCase())).slice(0,5).join(", ");
          print(`Unknown. ${sug?`Try: <b>${sug}</b>`:"Type help"}`, "danger");
        }
      }
      input.value="";
    } else if(e.key==="ArrowUp"){ if(hIndex>0){hIndex--; input.value = history[hIndex]||"";} e.preventDefault();
    } else if(e.key==="ArrowDown"){ if(hIndex<history.length){hIndex++; input.value = history[hIndex]||"";} e.preventDefault();
    } else if(e.key==="Tab"){ e.preventDefault(); const v=input.value.trim(); if(!v) return; const last=v.split(/\s+/).pop().toLowerCase(); const m=Object.keys(COMMANDS).filter(k=>k.startsWith(last)); if(m.length===1){ input.value=m[0]+" "; } else if(m.length>1){ print("Options: "+m.slice(0,10).join(", "),"muted"); }
    } else if(e.key==="?"){ e.preventDefault(); print("Tip: use ai: followed by your question","muted"); }
  });

  // Boot
  print("<b>Welcome to Satoshi Terminal</b> v1.2");
  print("I am the bullish brain of $SATS. Ask anything with <span class='kbd'>ai:</span> — or type <span class='kbd'>help</span>.","muted");
</script>
</body>
</html>

